<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ì´ì•¼ê¸° ë¦´ë ˆì´ - 1ì¸ 2í„´</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: #f9f6f1;
      text-align: center;
      padding: 30px;
      color: #333;
    }
    #story-log {
      border: 2px dashed #999;
      padding: 20px;
      margin: 20px auto;
      width: 80%;
      min-height: 150px;
      background-color: #fffbea;
      text-align: left;
      white-space: pre-wrap;
      font-size: 16px;
    }
    input, button {
      padding: 10px 15px;
      font-size: 16px;
      margin: 10px 5px;
      border-radius: 8px;
      border: 1.5px solid #555;
      transition: background-color 0.3s ease;
      cursor: pointer;
    }
    input {
      width: 60%;
      max-width: 500px;
    }
    button:hover:not(:disabled) {
      background-color: #f2d388;
    }
    button:disabled {
      background-color: #ccc;
      cursor: not-allowed;
    }
    #topic-box {
      font-size: 20px;
      font-weight: bold;
      color: #555;
      margin-bottom: 20px;
      min-height: 60px;
      background-color: #fff9f0;
      border: 2px solid #f2d388;
      border-radius: 10px;
      padding: 15px;
      box-shadow: 1px 1px 5px rgba(0,0,0,0.1);
    }
    #player-info {
      font-weight: 600;
      margin: 5px 0 15px;
      font-size: 18px;
    }
    #fun-illustration {
      margin: 25px auto;
      width: 120px;
      height: 120px;
      user-select: none;
    }
  </style>
</head>
<body>
  <h1>ğŸ“– ì´ì•¼ê¸° ë¦´ë ˆì´ - 1ì¸ 2í„´</h1>
  <p>í•œ ì‚¬ëŒë‹¹ ë‘ ë²ˆì”© ëŒì•„ê°€ë©° ë¬¸ì¥ì„ ì´ì–´ë³´ì„¸ìš”!<br>ì‹œì‘ ë¬¸ì¥ì€ 'ì „ ë¬¸ì¥'ì— í‘œì‹œë©ë‹ˆë‹¤.</p>
  
  <div id="topic-box">ğŸ² ì „ ë¬¸ì¥: (ì‹œì‘ ë¬¸ì¥ì„ ë¨¼ì € ìƒì„±í•˜ì„¸ìš”!)</div>
  <button id="btn-random-topic" onclick="generateRandomTopic()">ëœë¤ ì „ ë¬¸ì¥ ìƒì„±</button>
  <br><br>

  <div id="player-info">
    í˜„ì¬ í”Œë ˆì´ì–´: <span id="player-num">-</span> / 5 &nbsp;&nbsp;|&nbsp;&nbsp; ì´ í„´: <span id="turn-count">-</span> / 10
  </div>
  
  <input type="text" id="sentence-input" placeholder="ë¬¸ì¥ì„ ì…ë ¥í•˜ì„¸ìš”" autocomplete="off" />
  <br>
  <button id="btn-submit" onclick="submitSentence()" disabled>ì…ë ¥</button>
  <button id="btn-show-story" onclick="showStory()" disabled>ì „ì²´ ì´ì•¼ê¸° ë³´ê¸°</button>

  <div id="story-log" style="display:none;"></div>

  <!-- ê³ ë“±í•™ìƒ ì›ƒê¸¸ë§Œí•œ ê°„ë‹¨ ì¬ë¯¸ìˆëŠ” ê·¸ë¦¼ (SVG) -->
  <svg id="fun-illustration" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-label="ì›ƒëŠ” ì–¼êµ´ ê·¸ë¦¼" role="img">
    <circle cx="32" cy="32" r="30" fill="#FFD93B" stroke="#F4C534" stroke-width="3"/>
    <circle cx="22" cy="24" r="5" fill="#333" />
    <circle cx="42" cy="24" r="5" fill="#333" />
    <path d="M20 44 Q32 54 44 44" stroke="#333" stroke-width="4" fill="none" stroke-linecap="round"/>
    <line x1="17" y1="28" x2="12" y2="24" stroke="#333" stroke-width="3" />
    <line x1="47" y1="28" x2="52" y2="24" stroke="#333" stroke-width="3" />
    <text x="10" y="60" font-size="7" fill="#444" font-family="Arial" >ã…‹ã…‹ã…‹ ì›ƒì!</text>
  </svg>

<script>
  const randomTopics = [
    "ìˆ˜ì—… ì‹œê°„ì— ê°‘ìê¸° ì¹œêµ¬ë“¤ì´ ì¶¤ì„ ì¶”ê¸° ì‹œì‘í–ˆë‹¤.",
    "ë‚´ ì ì‹¬ ë„ì‹œë½ì—ì„œ ê°‘ìê¸° ë¶ˆê½ƒì´ íŠ€ì—ˆë‹¤.",
    "ê¸‰ì‹ì‹¤ì—ì„œ ì„ ìƒë‹˜ì´ ë© ë°°í‹€ì„ ì‹œì‘í•˜ì…¨ë‹¤.",
    "ë‚´ê°€ ë§ˆë²•ì²˜ëŸ¼ ì¢‹ì•„í•˜ëŠ” ê°„ì‹ì„ í•œì•„ë¦„ ë°›ì•˜ë‹¤.",
    "ì¹œêµ¬ê°€ ë‚˜ ëŒ€ì‹  ê°‘ìê¸° ìˆ˜ì—…ì„ ë§¡ì•˜ë‹¤!",
    "êµì‹¤ì— ê¹œì§ ì½˜ì„œíŠ¸ê°€ ì—´ë ¸ë‹¤.",
    "ìš´ë™ì¥ì—ì„œ ê°‘ìê¸° ë¶ˆê½ƒë†€ì´ê°€ í„°ì¡Œë‹¤.",
    "ì„ ìƒë‹˜ì´ ê°‘ìê¸° í™í•© ëŒ„ìŠ¤ë¥¼ ë³´ì—¬ì£¼ì…¨ë‹¤.",
    "ë‚´ ì´ë¦„ì´ í•™êµ ì „ê´‘íŒì— ë°˜ì§ë°˜ì§ ë¹›ë‚¬ë‹¤.",
    "ë³µë„ì—ì„œ ê°‘ìê¸° ìœ ëª… ì•„ì´ëŒì´ ë‚˜íƒ€ë‚¬ë‹¤!",
    // ê¸°ì¡´ ë¬¸ì¥ ìœ ì§€
    "ë‚´ ì˜†ìë¦¬ì— ì–´ëŠ ë‚  ê°‘ìê¸° ì „í•™ìƒì´ ì•‰ì•˜ëŠ”ë°, ê·¸ ì• ëŠ” ë‚˜ì™€ ë˜‘ê°™ì´ ìƒê²¼ë‹¤.",
    "êµë¬´ì‹¤ì—ì„œ ì´ìƒí•œ ë¹„ë°€ ì§€ë„ë¥¼ ë°œê²¬í–ˆë‹¤.",
    "ë‚´ê°€ ì“´ ì—°ì• í¸ì§€ê°€ ë°˜ ì „ì²´ ë‹¨í†¡ë°©ì— ì˜¬ë¼ê°”ë‹¤.",
    "êµì¥ ì„ ìƒë‹˜ì´ ê°‘ìê¸° ìŠ¤íŠ¸ë¦¬ë¨¸ë¡œ ë°ë·”í•˜ì…¨ë‹¤.",
    "í™”ì¥ì‹¤ ê±°ìš¸ ì† ë‚´ ì–¼êµ´ì´ ê³„ì† ìœ™í¬ë¥¼ í–ˆë‹¤.",
    "ê¸‰ì‹ì‹¤ ì•„ì£¼ë¨¸ë‹ˆê°€ ë‚´ ì´ë¦„ì„ ì •í™•íˆ ì•Œê³  ê³„ì…¨ë‹¤. ë‚˜ëŠ” ì²˜ìŒ ë´¤ëŠ”ë°.",
    "ë‚˜ì˜ ê·¸ë¦¼ìê°€ ê°‘ìê¸° ë§ì„ ê±¸ì–´ì™”ë‹¤."
  ];

  let sentences = [];
  let turn = 0;  // í„´ì´ ì‹œì‘ ì „ì´ë¯€ë¡œ 0
  let topicSet = false;

  // ëœë¤ ì‹œì‘ ë¬¸ì¥ ìƒì„± (í•œ ë²ˆë§Œ ê°€ëŠ¥)
  function generateRandomTopic() {
    if (topicSet) return;
    const topic = randomTopics[Math.floor(Math.random() * randomTopics.length)];
    sentences = [topic];
    topicSet = true;
    turn = 1;

    document.getElementById("topic-box").textContent = `ğŸ² ì „ ë¬¸ì¥: "${topic}"`;
    document.getElementById("sentence-input").value = "";
    document.getElementById("player-num").textContent = 1;
    document.getElementById("turn-count").textContent = 1;
    document.getElementById("btn-random-topic").disabled = true;
    document.getElementById("btn-submit").disabled = false;
    document.getElementById("btn-show-story").disabled = true;

    alert("ì‹œì‘ ë¬¸ì¥ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤! í”Œë ˆì´ì–´ 1 ì°¨ë¡€ì…ë‹ˆë‹¤.");
    document.getElementById("sentence-input").focus();
  }

  function submitSentence() {
    if (!topicSet) {
      alert("ë¨¼ì € ëœë¤ ì „ ë¬¸ì¥ì„ ìƒì„±í•´ì£¼ì„¸ìš”!");
      return;
    }

    const input = document.getElementById("sentence-input");
    const sentence = input.value.trim();

    if (sentence === "") {
      alert("ë¬¸ì¥ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
      return;
    }

    // ìƒˆ ë¬¸ì¥ì€ ì´ì „ ë¬¸ì¥ ë‹¤ìŒì— ìœ„ì¹˜
    sentences.push(sentence);
    input.value = "";

    if (turn < 10) {
      turn++;
      const player = ((turn - 1) % 5) + 1;

      // ì „ ë¬¸ì¥ ê°±ì‹  (ë§ˆì§€ë§‰ì— ì…ë ¥í•œ ë¬¸ì¥)
      document.getElementById("topic-box").textContent = `ğŸ² ì „ ë¬¸ì¥: "${sentence}"`;

      document.getElementById("turn-count").textContent = turn;
      document.getElementById("player-num").textContent = player;

      alert(`í”Œë ˆì´ì–´ ${player} ì°¨ë¡€ì…ë‹ˆë‹¤!`);
      input.focus();
    } else {
      // 10í„´ ì™„ë£Œ
      document.getElementById("turn-count").textContent = turn;
      document.getElementById("player-num").textContent = "-";
      alert("ëª¨ë“  í”Œë ˆì´ì–´ê°€ ë‘ ë²ˆì”© ì…ë ¥ì„ ë§ˆì³¤ìŠµë‹ˆë‹¤.\n'ì „ì²´ ì´ì•¼ê¸° ë³´ê¸°' ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”!");
      document.getElementById("btn-submit").disabled = true;
      document.getElementById("btn-show-story").disabled = false;
      input.value = "";
      input.disabled = true;
    }
  }

  function showStory() {
    const log = document.getElementById("story-log");
    log.style.display = "block";
    log.innerHTML = `<strong>ğŸ“˜ ìµœì¢… ì´ì•¼ê¸°:</strong>\n\n` + sentences.map((s, i) => `(${i+1}) ${s}`).join("\n");
  }

  // ì—”í„°í‚¤ë¡œ ì…ë ¥ ê°€ëŠ¥
  document.getElementById("sentence-input").addEventListener("keydown", function(event) {
    if (event.key === "Enter") {
      submitSentence();
    }
  });
</script>
</body>
</html>
